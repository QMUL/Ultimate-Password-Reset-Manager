<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
  <head>
    <title>Change Apocrita passwords</title>
    <link rel="stylesheet" type="text/css" href="/static/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="/static/css/prm.css" />
    <script src="/static/js/jquery.min.js" type="text/javascript"></script>
    <script src="/static/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="/static/js/prm.js" type="text/javascript"></script>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  </head>

  <body>

    <div id="headertop"> <h2 class="form-signin-heading text-center">ITS Research Services Password Change</h2></div>
    <div class="container">
      <div class="aliert alert-danger" role="alert"><strong>{{.Message}}</strong><br/>You will be redirected to the original page in <span id="timer">60</span> seconds.</div>
     <div> <a href="/"><button type="button" class="btn btn-default">Go Back</button></a></div>
    </div>
    <script type="text/JavaScript">
      setTimeout(function () { window.location.href = "/"; }, 60000); 
      
      var timeleft = 60;
			var timestart = 0;
			
      // shim layer with setTimeout fallback
			window.requestAnimFrame = (function(){
  		  var currTime = new Date().getTime();	
				return  window.requestAnimationFrame       ||
         	window.webkitRequestAnimationFrame ||
         	window.mozRequestAnimationFrame    ||
        	function( callback ){
            window.setTimeout(callback(currTime));
          };
			})();


		// usage:
		// instead of setInterval(render, 16) ....

		(function animloop(frametime){

  		requestAnimFrame(animloop);
			if (frametime - timestart > 1000) {
				timestart = frametime;
  			timeleft = timeleft - 1;
      	$("#timer").text(timeleft);
			}
		})();

    </script>
  </body>
</html>
